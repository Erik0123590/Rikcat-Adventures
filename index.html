<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<title>Rikcat Adventures ‚Äî Minigames</title>
<style>
  body{ margin:0; font-family:sans-serif; background:#6aa5ff; color:#fff; }
  #topbar{ display:flex; gap:8px; padding:12px; align-items:center; }
  button{ padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:600; }
  .primary{ background:#2196f3; color:white; }
  .accent{ background:#ffb74d; color:#000; }
  .muted{ background:rgba(255,255,255,0.12); color:#fff; }
  #canvasWrap{ position:relative; height:60vh; background:#83b9ff; display:flex; align-items:center; justify-content:center; }
  canvas{ width:100%; height:100%; display:block; }
  #minigameMenu{ position:fixed; right:12px; top:72px; width:320px; background:rgba(0,0,0,0.45); padding:12px; border-radius:10px; display:none; z-index:50; }
  .mg-row{ display:flex; justify-content:space-between; gap:8px; align-items:center; padding:8px 4px; border-bottom:1px solid rgba(255,255,255,0.06); }
  .mg-row:last-child{ border-bottom:0; }
  #mgControls{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }
  #log{ position:fixed; left:12px; bottom:12px; width:320px; max-height:220px; overflow:auto; background:rgba(0,0,0,0.55); padding:8px; border-radius:8px; font-size:13px; }
  input[type="text"]{ padding:8px; border-radius:8px; border: none; width:100%; box-sizing:border-box; }
  label{ font-size:13px; opacity:0.9; display:block; margin-bottom:6px; }
</style>
</head>
<body>

<div id="topbar">
  <button id="backHome" class="muted">üè† Voltar</button>
  <button id="openMinigames" class="primary">üéÆ Minigames</button>
  <div style="flex:1"></div>
  <div style="display:flex;gap:8px;align-items:center;">
    <label style="color:#fff;margin:0 8px 0 0;">Nick</label>
    <input id="nickInputTop" type="text" placeholder="Seu nick" style="padding:8px;border-radius:8px;border:none;width:160px;">
  </div>
</div>

<div id="canvasWrap">
  <canvas id="canvas"></canvas>
</div>

<!-- Minigames menu -->
<div id="minigameMenu">
  <h3 style="margin:0 0 8px 0;">Minigames</h3>

  <div class="mg-row">
    <div>
      <strong>Time Trial</strong><div style="font-size:12px;opacity:0.85">Corrida contra o tempo</div>
    </div>
    <div>
      <button data-mg="timeTrial" class="muted">Entrar</button>
    </div>
  </div>

  <div class="mg-row">
    <div>
      <strong>Tag</strong><div style="font-size:12px;opacity:0.85">Pega-pega multiplayer</div>
    </div>
    <div><button data-mg="tag" class="muted">Entrar</button></div>
  </div>

  <div class="mg-row">
    <div>
      <strong>Capture The Flag</strong><div style="font-size:12px;opacity:0.85">Capture a bandeira</div>
    </div>
    <div><button data-mg="ctf" class="muted">Entrar</button></div>
  </div>

  <div class="mg-row">
    <div>
      <strong>Survival Waves</strong><div style="font-size:12px;opacity:0.85">Sobreviva √†s ondas</div>
    </div>
    <div><button data-mg="survival" class="muted">Entrar</button></div>
  </div>

  <div style="margin-top:10px;">
    <label>Room code (opcional)</label>
    <input id="roomCodeInput" type="text" placeholder="codigo_da_sala (ex: sala123)">
  </div>

  <div id="mgControls">
    <button id="joinBtn" class="accent">Join / Create</button>
    <button id="startBtn" class="primary">Start (host)</button>
    <button id="leaveBtn" class="muted">Leave</button>
    <button id="backMenuBtn" class="muted">Fechar</button>
  </div>

  <div style="margin-top:8px;">
    <label>Minigame state</label>
    <div id="mgState" style="padding:8px;background:rgba(255,255,255,0.06);border-radius:6px;min-height:40px"></div>
  </div>

</div>

<div id="log"></div>

<script type="module" src="./game.js"></script>
</body>
</html>
