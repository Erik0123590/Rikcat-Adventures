<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Rikcat Adventure</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#ff9f00">

<style>
body{
  margin:0;
  overflow:hidden;
  background:#5c94fc;
  touch-action:none;
}
canvas{
  display:block;
}

/* Bot√µes */
.btn{
  position:fixed;
  bottom:20px;
  width:70px;
  height:70px;
  background:rgba(255,255,255,0.25);
  border-radius:50%;
}
#left{left:20px;}
#right{left:110px;}
#jump{right:20px;}
</style>
</head>

<body>

<canvas id="game"></canvas>

<div id="left" class="btn"></div>
<div id="right" class="btn"></div>
<div id="jump" class="btn"></div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

/* ---------- RESIZE / ROTA√á√ÉO ---------- */
function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  if(player.x > canvas.width - player.w){
    player.x = canvas.width - player.w;
  }
  if(player.y > canvas.height - player.h - ground.h){
    player.y = canvas.height - player.h - ground.h;
  }
}
window.addEventListener("resize", resize);
window.addEventListener("orientationchange", resize);

/* ---------- JOGADOR ---------- */
let player = {
  x:100,
  y:100,
  w:60,
  h:60,
  vx:0,
  vy:0,
  onGround:false
};

/* ---------- CH√ÉO ---------- */
let ground = {
  y:0,
  h:40
};

/* ---------- CONTROLES ---------- */
let left=false, right=false;

document.getElementById("left").ontouchstart = ()=> left=true;
document.getElementById("left").ontouchend   = ()=> left=false;

document.getElementById("right").ontouchstart = ()=> right=true;
document.getElementById("right").ontouchend   = ()=> right=false;

document.getElementById("jump").ontouchstart = ()=>{
  if(player.onGround){
    player.vy = -18;
    player.onGround = false;
  }
};

/* ---------- DESENHO DO RIKCAT ---------- */
function drawRikcat(x,y,w,h){
  ctx.save(); // üîí evita bug de cor

  const cx = x+w/2;
  const cy = y+h/2;

  // Cabe√ßa
  ctx.fillStyle="#FFA500";
  ctx.beginPath();
  ctx.arc(cx,cy,w/2,0,Math.PI*2);
  ctx.fill();

  ctx.lineWidth=6;
  ctx.strokeStyle="black";
  ctx.stroke();

  // Orelhas
  ctx.beginPath();
  ctx.moveTo(x-5,y+10);
  ctx.lineTo(x+10,y-15);
  ctx.lineTo(x+25,y+10);
  ctx.closePath();
  ctx.fill();
  ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(x+w-25,y+10);
  ctx.lineTo(x+w-10,y-15);
  ctx.lineTo(x+w+5,y+10);
  ctx.closePath();
  ctx.fill();
  ctx.stroke();

  // Parte rosa
  ctx.fillStyle="#FF2EB8";
  ctx.beginPath();
  ctx.moveTo(x+5,y+10);
  ctx.lineTo(x+12,y-5);
  ctx.lineTo(x+20,y+10);
  ctx.fill();

  ctx.beginPath();
  ctx.moveTo(x+w-20,y+10);
  ctx.lineTo(x+w-12,y-5);
  ctx.lineTo(x+w-5,y+10);
  ctx.fill();

  // Olhos
  ctx.strokeStyle="black";
  ctx.lineWidth=5;
  ctx.beginPath();
  ctx.moveTo(cx-10,cy-5);
  ctx.lineTo(cx-10,cy+8);
  ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(cx+10,cy-5);
  ctx.lineTo(cx+10,cy+8);
  ctx.stroke();

  // Nariz
  ctx.fillStyle="#FF2EB8";
  ctx.beginPath();
  ctx.moveTo(cx,cy+5);
  ctx.lineTo(cx-6,cy+15);
  ctx.lineTo(cx+6,cy+15);
  ctx.fill();

  // Boca
  ctx.strokeStyle="black";
  ctx.lineWidth=4;
  ctx.beginPath();
  ctx.moveTo(cx,cy+15);
  ctx.lineTo(cx,cy+22);
  ctx.lineTo(cx+5,cy+24);
  ctx.stroke();

  ctx.restore(); // üîì
}

/* ---------- GAME LOOP ---------- */
function update(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Movimento
  player.vx = 0;
  if(left)  player.vx = -5;
  if(right) player.vx =  5;

  player.x += player.vx;
  player.vy += 1;
  player.y += player.vy;

  // Ch√£o
  ground.y = canvas.height - ground.h;

  if(player.y + player.h > ground.y){
    player.y = ground.y - player.h;
    player.vy = 0;
    player.onGround = true;
  }

  // Desenha ch√£o
  ctx.fillStyle="#6b3e26";
  ctx.fillRect(0, ground.y, canvas.width, ground.h);

  // Desenha Rikcat
  drawRikcat(player.x, player.y, player.w, player.h);

  requestAnimationFrame(update);
}

/* ---------- START ---------- */
resize();
update();
</script>

</body>
</html>
