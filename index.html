<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Rikcat Adventure</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff9f00">

<style>
body{
  margin:0;
  overflow:hidden;
  background:#5c94fc;
}
canvas{
  display:block;
}
.btn{
  position:fixed;
  bottom:20px;
  width:80px;
  height:80px;
  background:rgba(255,255,255,0.2);
  border-radius:50%;
}
#left{left:20px;}
#right{left:120px;}
#jump{right:20px;}
</style>
</head>

<body>

<canvas id="game"></canvas>

<div id="left" class="btn"></div>
<div id="right" class="btn"></div>
<div id="jump" class="btn"></div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

let player = {
  x:100,
  y:200,
  w:60,
  h:60,
  vy:0,
  onGround:false
};

function drawRikcat(x,y,w,h){
  const cx = x+w/2;
  const cy = y+h/2;

  ctx.fillStyle="#FFA500";
  ctx.beginPath();
  ctx.arc(cx,cy,w/2,0,Math.PI*2);
  ctx.fill();
  ctx.lineWidth=6;
  ctx.strokeStyle="black";
  ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(x-5,y+10);
  ctx.lineTo(x+10,y-15);
  ctx.lineTo(x+25,y+10);
  ctx.closePath();
  ctx.fill();
  ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(x+w-25,y+10);
  ctx.lineTo(x+w-10,y-15);
  ctx.lineTo(x+w+5,y+10);
  ctx.closePath();
  ctx.fill();
  ctx.stroke();

  ctx.fillStyle="#FF2EB8";
  ctx.beginPath();
  ctx.moveTo(x+5,y+10);
  ctx.lineTo(x+12,y-5);
  ctx.lineTo(x+20,y+10);
  ctx.fill();

  ctx.beginPath();
  ctx.moveTo(x+w-20,y+10);
  ctx.lineTo(x+w-12,y-5);
  ctx.lineTo(x+w-5,y+10);
  ctx.fill();

  ctx.strokeStyle="black";
  ctx.lineWidth=5;
  ctx.beginPath();
  ctx.moveTo(cx-10,cy-5);
  ctx.lineTo(cx-10,cy+8);
  ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(cx+10,cy-5);
  ctx.lineTo(cx+10,cy+8);
  ctx.stroke();

  ctx.fillStyle="#FF2EB8";
  ctx.beginPath();
  ctx.moveTo(cx,cy+5);
  ctx.lineTo(cx-6,cy+15);
  ctx.lineTo(cx+6,cy+15);
  ctx.fill();

  ctx.strokeStyle="black";
  ctx.lineWidth=4;
  ctx.beginPath();
  ctx.moveTo(cx,cy+15);
  ctx.lineTo(cx,cy+22);
  ctx.lineTo(cx+5,cy+24);
  ctx.stroke();
}

function update(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  player.vy += 1;
  player.y += player.vy;

  if(player.y+player.h > canvas.height-40){
    player.y = canvas.height-40-player.h;
    player.vy = 0;
    player.onGround = true;
  }

  ctx.fillStyle="#6b3e26";
  ctx.fillRect(0,canvas.height-40,canvas.width,40);

  drawRikcat(player.x,player.y,player.w,player.h);

  requestAnimationFrame(update);
}
update();

document.getElementById("jump").ontouchstart=()=>{
  if(player.onGround){
    player.vy=-18;
    player.onGround=false;
  }
};

if ("serviceWorker" in navigator) {
 navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
